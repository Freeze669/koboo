<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê Panel Administrateur - Mayu & Jack Studio</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Discord Logging System -->
    <script src="discord-logger.js"></script>
    <script src="member-tracker.js"></script>
    <script src="activity-monitor.js"></script>
    <script src="discord-logging-system.js"></script>
    
    <!-- Configuration admin et monitoring -->
    <script src="admin-config.js"></script>
    <script src="site-monitor.js"></script>
    <script src="admin-info-pages.js"></script>
    
    <!-- Performance et Animation Optimization -->
    <script src="performance-monitor.js"></script>
    <script src="animation-optimizer.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .admin-header {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: #f8fafc;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1000;
        }

        .admin-header h2 {
            margin: 0 0 1rem 0;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
        }

        .admin-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .admin-code-display {
            background: rgba(59, 130, 246, 0.2);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .code-highlight {
            background: linear-gradient(45deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .session-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logout-btn {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
        }

        /* Container principal */
        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Espacement uniforme entre toutes les sections pour un flux GUI optimal */
        .admin-container > div {
            margin-bottom: 2rem;
        }

        .admin-container > div:last-child {
            margin-bottom: 0;
        }

        /* Grille des m√©triques - FLUIDE pour un meilleur flux GUI */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 100;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 12px;
            padding: 1rem;
            border: 1px solid rgba(51, 65, 85, 0.5);
        }

        .metric-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 10px;
            padding: 1rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #60a5fa, #a78bfa);
        }

        .metric-card:hover {
            transform: translateY(-2px);
            border-color: #60a5fa;
            box-shadow: 0 5px 15px rgba(96, 165, 250, 0.2);
        }

        .metric-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .metric-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
        }

        .metric-title {
            font-size: 1rem;
            font-weight: 600;
            color: #f8fafc;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #60a5fa;
            margin-bottom: 0.5rem;
        }

        .metric-description {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .metric-trend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        .trend-up {
            color: #10b981;
        }

        .trend-down {
            color: #ef4444;
        }

        /* Indicateurs d'optimisation */
        .optimization-status {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #fff;
        }

        .optimization-status.none {
            background: rgba(16, 185, 129, 0.8);
        }

        .optimization-status.medium {
            background: rgba(245, 158, 11, 0.8);
        }

        .optimization-status.high {
            background: rgba(239, 68, 68, 0.8);
        }

        /* Actions rapides */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
            position: relative;
            z-index: 200;
        }

        .action-btn {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
        }

        .action-btn:active {
            transform: translateY(0);
        }

        /* Graphiques */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .chart-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #f8fafc;
            text-align: center;
        }

        /* Tableau des activit√©s */
        .activities-section {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
            position: relative;
            z-index: 150;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #f8fafc;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            z-index: 160;
        }

        .activity-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid #334155;
            transition: background 0.3s ease;
            position: relative;
            z-index: 120;
        }

        .activity-item:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            position: relative;
            z-index: 130;
        }

        .activity-icon.click { background: #3b82f6; }
        .activity-icon.form { background: #10b981; }
        .activity-icon.navigation { background: #f59e0b; }
        .activity-icon.error { background: #ef4444; }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            color: #f8fafc;
            margin-bottom: 0.25rem;
        }

        .activity-details {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .activity-time {
            color: #64748b;
            font-size: 0.8rem;
        }

        /* Statut Discord */
        .discord-status {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
            position: relative;
            z-index: 150;
        }

        .discord-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .discord-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: #5865f2;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .discord-info h3 {
            color: #f8fafc;
            margin-bottom: 0.5rem;
        }

        .discord-info p {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .discord-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .discord-btn {
            background: #5865f2;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .discord-btn:hover {
            background: #4752c4;
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
                position: relative;
                padding: 0.75rem;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .metric-card, .chart-container, .activities-section, .discord-status {
            animation: fadeInUp 0.6s ease forwards;
        }

        .metric-card:nth-child(1) { animation-delay: 0.1s; }
        .metric-card:nth-child(2) { animation-delay: 0.2s; }
        .metric-card:nth-child(3) { animation-delay: 0.3s; }
        .metric-card:nth-child(4) { animation-delay: 0.4s; }
        .metric-card:nth-child(5) { animation-delay: 0.5s; }
        .metric-card:nth-child(6) { animation-delay: 0.6s; }

        /* Scrollbar personnalis√©e */
        .activity-list::-webkit-scrollbar {
            width: 8px;
        }

        .activity-list::-webkit-scrollbar-track {
            background: rgba(51, 65, 85, 0.3);
            border-radius: 4px;
        }

        .activity-list::-webkit-scrollbar-thumb {
            background: #60a5fa;
            border-radius: 4px;
        }

        .activity-list::-webkit-scrollbar-thumb:hover {
            background: #3b82f6;
        }

        /* Pages d'information */
        .info-pages {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
            position: relative;
            z-index: 150;
        }

        /* Section d'optimisation */
        .optimization-section {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
            position: relative;
            z-index: 150;
        }

        .page-navigation {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
                flex-wrap: wrap;
        }

        .page-nav-btn {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #f8fafc;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .page-nav-btn:hover {
            background: rgba(59, 130, 246, 0.3);
            transform: translateY(-1px);
        }

        .page-nav-btn.active {
            background: #3b82f6;
            border-color: #3b82f6;
        }

        .page-content {
            min-height: 400px;
        }

        /* Grille des statistiques */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.2);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Compteurs d'utilisateurs */
        .user-counts {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
                justify-content: center;
            }

        .count-item {
            text-align: center;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.6);
            border-radius: 8px;
            border: 1px solid #334155;
            position: relative;
            z-index: 110;
        }

        .count-number {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: #3b82f6;
        }

        .count-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Tableau des utilisateurs */
        .user-table {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            z-index: 100;
        }

        .user-header {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 80px;
            padding: 1rem;
            background: rgba(59, 130, 246, 0.2);
            font-weight: 600;
            color: #f8fafc;
        }

        .user-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 80px;
            padding: 1rem;
            border-bottom: 1px solid #334155;
            transition: background 0.3s ease;
        }

        .user-row:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .user-row:last-child {
            border-bottom: none;
        }

        /* M√©triques de performance */
        .metric-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
            position: relative;
            z-index: 100;
        }

        .metric-item {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 1.5rem;
            position: relative;
            z-index: 110;
        }

        .metric-item h4 {
            margin: 0 0 1rem 0;
            color: #f8fafc;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 0.5rem;
        }

        .metric-bar {
            width: 100%;
            height: 8px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 4px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            transition: width 0.3s ease;
        }

        /* Alertes */
        .alert-counts {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
            justify-content: center;
            position: relative;
            z-index: 100;
        }

        .count-item.error .count-number { color: #ef4444; }
        .count-item.warning .count-number { color: #f59e0b; }
        .count-item.info .count-number { color: #3b82f6; }

        .alert-item {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .alert-item.error { border-left: 4px solid #ef4444; }
        .alert-item.warning { border-left: 4px solid #f59e0b; }
        .alert-item.info { border-left: 4px solid #3b82f6; }

        .alert-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .alert-level {
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
        }

        .alert-time {
            color: #94a3b8;
            font-size: 0.8rem;
        }

        .alert-message {
            color: #f8fafc;
            margin-bottom: 0.5rem;
        }

        .alert-details {
            color: #94a3b8;
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Timeline des activit√©s */
        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #334155;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 1.5rem;
            padding-left: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1rem;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            background: #3b82f6;
            border-radius: 50%;
            border: 2px solid #1e293b;
        }

        .timeline-icon {
            position: absolute;
            left: -1.5rem;
            top: 0.25rem;
            font-size: 1.2rem;
        }

        .timeline-content {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 1rem;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .activity-type {
            font-weight: 600;
            color: #3b82f6;
            text-transform: uppercase;
            font-size: 0.8rem;
        }

        .activity-time {
            color: #94a3b8;
            font-size: 0.8rem;
        }

        .activity-description {
            color: #f8fafc;
            margin-bottom: 0.5rem;
        }

        .activity-user {
            color: #94a3b8;
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Configuration */
        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .config-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .config-section h4 {
            margin: 0 0 1rem 0;
            color: #f8fafc;
            border-bottom: 1px solid #334155;
            padding-bottom: 0.5rem;
        }

        .config-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(51, 65, 85, 0.3);
        }

        .config-item:last-child {
            border-bottom: none;
        }

        .config-key {
            color: #94a3b8;
            font-weight: 500;
        }

        .config-value {
            color: #f8fafc;
            font-weight: 600;
        }

        /* Graphiques placeholder */
        .chart-placeholder {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 3rem;
            text-align: center;
            color: #94a3b8;
            font-style: italic;
        }

        /* Boutons */
        .btn-small {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #f8fafc;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .btn-small:hover {
            background: rgba(59, 130, 246, 0.3);
        }

        /* Boutons de contr√¥le d'optimisation */
        .control-btn {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #f8fafc;
            padding: 0.75rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            margin: 0.5rem;
            position: relative;
            z-index: 200;
        }

        .control-btn:hover {
            background: rgba(59, 130, 246, 0.3);
            transform: translateY(-1px);
        }

        .optimization-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- Header Admin -->
    <header class="admin-header">
        <h2>üîê Panel Administrateur</h2>
        <div class="admin-info">
            <div class="admin-code-display">
                <strong>Code d'acc√®s:</strong> <span id="adminCodeDisplay" class="code-highlight">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
            </div>
            <div class="session-info">
                <span id="sessionStatus">Session active</span>
                <button onclick="logout()" class="logout-btn">D√©connexion</button>
                </div>
                </div>
    </header>

    <!-- Pages d'Information -->
    <section class="info-pages">
        <div class="page-navigation">
            <button class="page-nav-btn active" onclick="showInfoPage('stats')">üìä Statistiques</button>
            <button class="page-nav-btn" onclick="showInfoPage('users')">üë• Utilisateurs</button>
            <button class="page-nav-btn" onclick="showInfoPage('performance')">‚ö° Performances</button>
            <button class="page-nav-btn" onclick="showInfoPage('alerts')">üö® Alertes</button>
            <button class="page-nav-btn" onclick="showInfoPage('activities')">üìù Activit√©s</button>
            <button class="page-nav-btn" onclick="showInfoPage('config')">‚öôÔ∏è Configuration</button>
                </div>
        
        <div class="page-content">
            <h2 id="pageTitle">üìä Statistiques G√©n√©rales</h2>
            <div id="pageContent">
                <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                </div>
        </div>
        </section>

    <!-- Container Principal -->
    <div class="admin-container">
        <!-- Grille des M√©triques en Temps R√©el -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-users"></i>
                    <h4>Visiteurs</h4>
                </div>
                <div class="metric-value" id="visitorsCount">0</div>
                <div class="metric-trend" id="visitorsTrend">+0%</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-eye"></i>
                    <h4>Vues de Page</h4>
                </div>
                <div class="metric-value" id="pageViewsCount">0</div>
                <div class="metric-trend" id="pageViewsTrend">+0%</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-clock"></i>
                    <h4>Temps de Fonctionnement</h4>
                </div>
                <div class="metric-value" id="uptimeValue">00:00:00</div>
                <div class="metric-trend">Stable</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-memory"></i>
                    <h4>Utilisation M√©moire</h4>
                </div>
                <div class="metric-value" id="memoryUsage">0 MB</div>
                <div class="metric-trend" id="memoryTrend">Stable</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-tachometer-alt"></i>
                    <h4>Score Performance</h4>
                </div>
                <div class="metric-value" id="performanceScore">0</div>
                <div class="metric-trend" id="performanceTrend">Optimis√©</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>Erreurs</h4>
                </div>
                <div class="metric-value" id="errorsCount">0</div>
                <div class="metric-trend" id="errorsTrend">Syst√®me stable</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-gamepad"></i>
                    <h4>FPS</h4>
                </div>
                <div class="metric-value" id="fpsValue">0</div>
                <div class="metric-trend" id="fpsTrend">Optimis√©</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-header">
                    <i class="fas fa-magic"></i>
                    <h4>Qualit√© Animations</h4>
                </div>
                <div class="metric-value" id="animationQuality">0%</div>
                <div class="metric-trend" id="animationTrend">Fluide</div>
            </div>
        </div>
        
        <!-- Graphiques de Performance -->
        <div class="charts-section">
            <h3>Graphiques de Performance</h3>
            <div class="charts-grid">
                <div class="chart-container">
                    <h4>√âvolution FPS</h4>
                    <canvas id="fpsChart"></canvas>
                </div>
                <div class="chart-container">
                    <h4>Utilisation M√©moire</h4>
                    <canvas id="memoryChart"></canvas>
                </div>
                <div class="chart-container">
                    <h4>Score Performance</h4>
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Actions Rapides -->
        <div class="quick-actions">
            <button class="action-btn" onclick="refreshData()">
                <i class="fas fa-sync-alt"></i>
                Actualiser
            </button>
            <button class="action-btn" onclick="exportData()">
                <i class="fas fa-download"></i>
                Exporter Donn√©es
            </button>
            <button class="action-btn" onclick="optimizeSystem()">
                <i class="fas fa-rocket"></i>
                Optimiser
            </button>
            <button class="action-btn" onclick="backupData()">
                <i class="fas fa-database"></i>
                Sauvegarde
            </button>
        </div>

        <!-- Statut Discord -->
        <div class="discord-status">
            <div class="discord-header">
                <div class="discord-icon">
                    <i class="fab fa-discord"></i>
                </div>
                <div class="discord-info">
                    <h3>Statut Discord</h3>
                    <p>Webhook connect√© et fonctionnel</p>
                </div>
            </div>
            <div class="discord-actions">
                <button class="discord-btn" onclick="testDiscordConnection()">
                    <i class="fas fa-test-tube"></i>
                    Tester Connexion
                </button>
                <button class="discord-btn" onclick="sendTestMessage()">
                    <i class="fas fa-paper-plane"></i>
                    Message Test
                </button>
                <button class="discord-btn" onclick="viewDiscordLogs()">
                    <i class="fas fa-list"></i>
                    Voir Logs
                </button>
            </div>
        </div>


        
        <!-- Statut d'Optimisation des Animations -->
        <div class="optimization-section">
            <h3>Optimisation Automatique</h3>
            <div class="optimization-status" id="optimizationStatus">
                <i class="fas fa-info-circle"></i>
                <span>Analyse en cours...</span>
            </div>
            
            <div class="optimization-list" id="optimizationList">
                <!-- Les optimisations seront ajout√©es ici dynamiquement -->
            </div>
            
            <div class="optimization-controls">
                <button class="admin-btn" onclick="restartOptimizer()">
                    <i class="fas fa-redo"></i>
                    Red√©marrer l'optimiseur
                </button>
                <button class="admin-btn" onclick="toggleSmoothAnimations()">
                    <i class="fas fa-magic"></i>
                    Animations fluides
                </button>
            </div>
        </div>

        <!-- Activit√©s R√©centes -->
        <div class="activities-section">
            <div class="section-title">
                <i class="fas fa-history"></i>
                Activit√©s R√©centes
                </div>
            <div class="activity-list" id="activityList">
                <!-- Les activit√©s seront ajout√©es dynamiquement -->
                </div>
            </div>
    </div>

    <script>
        // Variables globales
        let sessionStartTime = Date.now();
        let updateInterval;
        let lastDataUpdate = 0;

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            initializeAdminPanel();
            startRealTimeUpdates();
            initializeInfoPages(); // Initialiser les pages d'information
        });

        /**
         * Initialisation du panel admin
         */
        function initializeAdminPanel() {
            console.log('üöÄ Initialisation du panel admin...');
            
            // V√©rifier l'authentification
            console.log('üîê V√©rification de l\'authentification...');
            if (!checkAuth()) {
                console.log('‚ùå Authentification √©chou√©e, redirection vers login');
                window.location.href = 'admin-login.html';
                return;
            }
            
            console.log('‚úÖ Authentification r√©ussie, initialisation des composants...');
            
            // Afficher le code admin
            displayAdminCode();
            
            // Initialiser les composants
            initializeMetrics();
            initializeActivityList();
            
            console.log('‚úÖ Panel admin initialis√© avec succ√®s');
        }

        /**
         * V√©rifier l'authentification
         */
        function checkAuth() {
            console.log('üîê V√©rification de l\'authentification...');
            
            const session = sessionStorage.getItem('admin_session');
            console.log('üì¶ Session trouv√©e:', session ? 'Oui' : 'Non');
            
            if (!session) {
                console.log('‚ùå Aucune session trouv√©e, redirection vers login');
                return false;
            }
            
            try {
                const sessionData = JSON.parse(session);
                console.log('üîë Donn√©es de session:', sessionData);
                
                const now = Date.now();
                const sessionAge = now - sessionData.startTime;
                const maxAge = ADMIN_CONFIG.security.sessionDuration;
                
                console.log(`‚è∞ √Çge de session: ${sessionAge}ms, Max: ${maxAge}ms`);
                
                if (sessionAge > maxAge) {
                    console.log('‚è∞ Session expir√©e, suppression et redirection');
                    sessionStorage.removeItem('admin_session');
                    return false;
                }
                
                console.log('‚úÖ Session valide');
                return true;
            } catch (error) {
                console.error('‚ùå Erreur parsing session:', error);
                return false;
            }
        }

        /**
         * Initialiser les m√©triques
         */
        function initializeMetrics() {
            // Mettre √† jour les m√©triques initiales
            updateMetrics();
            
            // Mettre √† jour le temps de session
            updateSessionTime();
        }

        /**
         * D√©marrer les mises √† jour en temps r√©el
         */
        function startRealTimeUpdates() {
            updateInterval = setInterval(() => {
                updateMetrics();
                updateSessionTime();
                updateActivityList();
            }, 2000); // Mise √† jour toutes les 2 secondes
        }

        /**
         * Mettre √† jour les m√©triques
         */
        function updateMetrics() {
            try {
                // Collecter les donn√©es de tous les moniteurs disponibles
                const allStats = collectAllMonitorData();
                
                // Stabiliser les m√©triques pour √©viter qu'elles bougent
                stabilizeMetrics(allStats);
                
                // Mettre √† jour l'affichage avec les vraies donn√©es
                updateMetricDisplay(allStats);
                
                // Mettre √† jour les graphiques de performance
                updatePerformanceCharts(allStats);
                
                // Mettre √† jour le statut d'optimisation des animations
                updateAnimationStatus();
                
                // Optimisation automatique bas√©e sur les performances
                autoOptimizeBasedOnPerformance(allStats);
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur mise √† jour m√©triques:', error);
                // Ne pas afficher d'erreur √† l'utilisateur
            }
        }

        /**
         * Collecter les donn√©es de tous les moniteurs
         */
        function collectAllMonitorData() {
            const stats = {
                timestamp: Date.now(),
                visitors: 0,
                pageViews: 0,
                uptime: '00:00:00',
                memory: { used: '0 MB', total: '0 MB', percentage: 0 },
                loadTime: 0,
                errors: 0,
                fps: 0,
                frameTime: 0,
                animationQuality: 1.0,
                performanceScore: 0,
                activities: 0,
                sessions: 0,
                trends: {},
                alerts: []
            };

            // Donn√©es du moniteur de site
            if (window.siteMonitor && window.siteMonitor.getRealTimeStats) {
                try {
                    const siteStats = window.siteMonitor.getRealTimeStats();
                    stats.visitors = siteStats.visitors || 0;
                    stats.pageViews = siteStats.pageViews || 0;
                    stats.uptime = siteStats.uptime || '00:00:00';
                    stats.errors = siteStats.errors || 0;
                    stats.activities = siteStats.activities || 0;
                    stats.sessions = siteStats.sessions || 0;
                } catch (e) {
                    console.warn('‚ö†Ô∏è Erreur siteMonitor:', e);
                }
            }

            // Donn√©es du moniteur de performance
            if (window.performanceMonitor && window.performanceMonitor.getAdminStats) {
                try {
                    const perfStats = window.performanceMonitor.getAdminStats();
                    stats.fps = perfStats.current?.fps || 0;
                    stats.frameTime = perfStats.current?.frameTime || 0;
                    stats.loadTime = perfStats.current?.loadTime || 0;
                    stats.performanceScore = perfStats.current?.score || 0;
                    stats.trends = perfStats.trends || {};
                    stats.alerts = perfStats.alerts || [];
                } catch (e) {
                    console.warn('‚ö†Ô∏è Erreur performanceMonitor:', e);
                }
            }

            // Donn√©es du moniteur d'activit√©
            if (window.activityMonitor && window.activityMonitor.getStats) {
                try {
                    const activityStats = window.activityMonitor.getStats();
                    stats.activities = activityStats.totalActivities || 0;
                    stats.errors = Math.max(stats.errors, activityStats.errorCount || 0);
                } catch (e) {
                    console.warn('‚ö†Ô∏è Erreur activityMonitor:', e);
                }
            }

            // Donn√©es de m√©moire syst√®me
            if (performance.memory) {
                try {
                    const memoryInfo = performance.memory;
                    const usedMB = Math.round(memoryInfo.usedJSHeapSize / (1024 * 1024));
                    const totalMB = Math.round(memoryInfo.totalJSHeapSize / (1024 * 1024));
                    const percentage = Math.round((usedMB / totalMB) * 100);
                    
                    stats.memory = {
                        used: `${usedMB} MB`,
                        total: `${totalMB} MB`,
                        percentage: percentage
                    };
                } catch (e) {
                    console.warn('‚ö†Ô∏è Erreur m√©moire syst√®me:', e);
                }
            }

            // Calculer la qualit√© des animations bas√©e sur les FPS
            if (stats.fps > 0) {
                if (stats.fps >= 80) {
                    stats.animationQuality = 1.0;
                } else if (stats.fps >= 60) {
                    stats.animationQuality = 0.8;
                } else if (stats.fps >= 45) {
                    stats.animationQuality = 0.6;
                } else if (stats.fps >= 30) {
                    stats.animationQuality = 0.4;
                } else {
                    stats.animationQuality = 0.2;
                }
            }

            return stats;
        }

        /**
         * Stabiliser les m√©triques pour √©viter les changements brusques
         */
        function stabilizeMetrics(stats) {
            // Initialiser les m√©triques pr√©c√©dentes si elles n'existent pas
            if (!window.previousMetrics) {
                window.previousMetrics = {};
            }
            
            // Initialiser l'historique des m√©triques si il n'existe pas
            if (!window.metricsHistory) {
                window.metricsHistory = {};
            }
            
            // Fonction pour stabiliser une m√©trique avec moyenne mobile
            const stabilizeMetric = (key, currentValue, historyKey) => {
                // Ajouter la valeur actuelle √† l'historique
                if (!window.metricsHistory[historyKey]) {
                    window.metricsHistory[historyKey] = [];
                }
                
                window.metricsHistory[historyKey].push(currentValue);
                
                // Garder seulement les 10 derni√®res valeurs
                if (window.metricsHistory[historyKey].length > 10) {
                    window.metricsHistory[historyKey].shift();
                }
                
                // Calculer la moyenne mobile
                const average = window.metricsHistory[historyKey].reduce((sum, val) => sum + val, 0) / window.metricsHistory[historyKey].length;
                
                // Appliquer une pond√©ration pour lisser les changements
                const previousValue = window.previousMetrics[key] || currentValue;
                const smoothingFactor = 0.7; // Plus le facteur est √©lev√©, plus c'est lisse
                const smoothedValue = (smoothingFactor * previousValue) + ((1 - smoothingFactor) * average);
                
                // Stocker la valeur actuelle pour la prochaine it√©ration
                window.previousMetrics[key] = smoothedValue;
                
                return smoothedValue;
            };
            
            // Stabiliser chaque m√©trique
            const stabilizedStats = { ...stats };
            
            // Visiteurs avec stabilisation
            if (typeof stats.visitors === 'number') {
                stabilizedStats.visitors = Math.round(stabilizeMetric('visitors', stats.visitors, 'visitorsHistory'));
            }
            
            // Vues de page avec stabilisation
            if (typeof stats.pageViews === 'number') {
                stabilizedStats.pageViews = Math.round(stabilizeMetric('pageViews', stats.pageViews, 'pageViewsHistory'));
            }
            
            // FPS avec stabilisation
            if (typeof stats.fps === 'number') {
                stabilizedStats.fps = Math.round(stabilizeMetric('fps', stats.fps, 'fpsHistory'));
            }
            
            // M√©moire avec stabilisation
            if (stats.memory && typeof stats.memory.percentage === 'number') {
                const stabilizedPercentage = Math.round(stabilizeMetric('memoryPercentage', stats.memory.percentage, 'memoryHistory'));
                stabilizedStats.memory.percentage = stabilizedPercentage;
                stabilizedStats.memory.used = `${Math.round((stabilizedPercentage / 100) * (parseInt(stats.memory.total) || 100))} MB`;
            }
            
            // Score de performance avec stabilisation
            if (typeof stats.performanceScore === 'number') {
                stabilizedStats.performanceScore = Math.round(stabilizeMetric('performanceScore', stats.performanceScore, 'performanceHistory'));
            }
            
            // Erreurs avec stabilisation (moins de lissage pour les alertes)
            if (typeof stats.errors === 'number') {
                const smoothingFactor = 0.3; // Moins de lissage pour les erreurs
                const previousErrors = window.previousMetrics.errors || stats.errors;
                const smoothedErrors = (smoothingFactor * previousErrors) + ((1 - smoothingFactor) * stats.errors);
                window.previousMetrics.errors = smoothedErrors;
                stabilizedStats.errors = Math.round(smoothedErrors);
            }
            
            // Qualit√© des animations avec stabilisation
            if (typeof stats.animationQuality === 'number') {
                stabilizedStats.animationQuality = stabilizeMetric('animationQuality', stats.animationQuality, 'animationHistory');
            }
            
            // Temps de chargement avec stabilisation
            if (typeof stats.loadTime === 'number') {
                stabilizedStats.loadTime = Math.round(stabilizeMetric('loadTime', stats.loadTime, 'loadTimeHistory'));
            }
            
            // Stocker les m√©triques stabilis√©es
            window.previousMetrics = { ...stabilizedStats };
            
            return stabilizedStats;
        }

        /**
         * Mettre √† jour l'affichage des m√©triques
         */
        function updateMetricDisplay(stats) {
            // Fonction pour mettre √† jour une m√©trique avec transition douce
            const updateMetricWithTransition = (elementId, newValue, oldValue) => {
                const element = document.getElementById(elementId);
                if (!element) return;
                
                // Si c'est la premi√®re fois, afficher directement
                if (oldValue === undefined) {
                    element.textContent = newValue;
                    return;
                }
                
                // Appliquer une transition douce
                if (typeof newValue === 'number' && typeof oldValue === 'number') {
                    // Animation de compteur pour les nombres
                    animateCounter(element, oldValue, newValue, 500);
                } else {
                    // Transition simple pour les autres types
                    element.style.opacity = '0.7';
                    element.textContent = newValue;
                    setTimeout(() => {
                        element.style.opacity = '1';
                    }, 150);
                }
            };
            
            // Visiteurs avec tendance r√©elle
            updateMetricWithTransition('visitorsCount', stats.visitors || 0, window.previousMetrics?.visitors);
            updateVisitorTrend(stats.visitors, window.previousMetrics?.visitors);
            
            // Vues de page avec tendance r√©elle
            updateMetricWithTransition('pageViewsCount', stats.pageViews || 0, window.previousMetrics?.pageViews);
            updatePageViewsTrend(stats.pageViews, window.previousMetrics?.pageViews);
            
            // Temps de fonctionnement
            updateMetricWithTransition('uptimeValue', stats.uptime || '00:00:00', window.previousMetrics?.uptime);
            
            // Utilisation m√©moire avec pourcentage
            if (stats.memory && stats.memory.used) {
                const memoryDisplay = `${stats.memory.used} (${stats.memory.percentage}%)`;
                updateMetricWithTransition('memoryUsage', memoryDisplay, window.previousMetrics?.memoryDisplay);
                updateMemoryTrend(stats.memory.percentage, window.previousMetrics?.memoryPercentage);
            }
            
            // Performance avec score r√©el
            if (stats.performanceScore > 0) {
                updateMetricWithTransition('performanceScore', Math.round(stats.performanceScore), window.previousMetrics?.performanceScore);
                updatePerformanceTrend(stats.performanceScore, window.previousMetrics?.performanceScore);
            }
            
            // Erreurs avec tendance
            updateMetricWithTransition('errorsCount', stats.errors || 0, window.previousMetrics?.errors);
            updateErrorsTrend(stats.errors, window.previousMetrics?.errors);
            
            // FPS & Performance avec tendance r√©elle
            if (stats.fps !== undefined) {
                updateMetricWithTransition('fpsValue', Math.round(stats.fps), window.previousMetrics?.fps);
                updateFPSTrend(stats.fps, window.previousMetrics?.fps);
            }
            
            // Qualit√© des animations avec tendance r√©elle
            if (stats.animationQuality !== undefined) {
                const qualityPercent = Math.round(stats.animationQuality * 100);
                updateMetricWithTransition('animationQuality', qualityPercent + '%', window.previousMetrics?.animationQualityPercent);
                updateAnimationTrend(stats.animationQuality, window.previousMetrics?.animationQuality);
            }
        }

        /**
         * Mettre √† jour la tendance des visiteurs
         */
        function updateVisitorTrend(current, previous) {
            const trendElement = document.getElementById('visitorsTrend');
            if (!trendElement) return;
            
            if (previous === undefined || previous === 0) {
                trendElement.textContent = '+0%';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = ((current - previous) / previous) * 100;
            const trendText = change >= 0 ? `+${Math.round(change)}%` : `${Math.round(change)}%`;
            const trendClass = change >= 0 ? 'metric-trend trend-up' : 'metric-trend trend-down';
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Mettre √† jour la tendance des vues de page
         */
        function updatePageViewsTrend(current, previous) {
            const trendElement = document.getElementById('pageViewsTrend');
            if (!trendElement) return;
            
            if (previous === undefined || previous === 0) {
                trendElement.textContent = '+0%';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = ((current - previous) / previous) * 100;
            const trendText = change >= 0 ? `+${Math.round(change)}%` : `${Math.round(change)}%`;
            const trendClass = change >= 0 ? 'metric-trend trend-up' : 'metric-trend trend-down';
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Mettre √† jour la tendance de la m√©moire
         */
        function updateMemoryTrend(current, previous) {
            const trendElement = document.getElementById('memoryTrend');
            if (!trendElement) return;
            
            if (previous === undefined) {
                trendElement.textContent = 'Stable';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = current - previous;
            let trendText, trendClass;
            
            if (Math.abs(change) < 5) {
                trendText = 'Stable';
                trendClass = 'metric-trend';
            } else if (change > 0) {
                trendText = `+${Math.round(change)}%`;
                trendClass = 'metric-trend trend-down'; // M√©moire qui augmente = tendance n√©gative
            } else {
                trendText = `${Math.round(change)}%`;
                trendClass = 'metric-trend trend-up'; // M√©moire qui diminue = tendance positive
            }
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Mettre √† jour la tendance de la performance
         */
        function updatePerformanceTrend(current, previous) {
            const trendElement = document.getElementById('performanceTrend');
            if (!trendElement) return;
            
            if (previous === undefined) {
                trendElement.textContent = 'Optimis√©';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = current - previous;
            let trendText, trendClass;
            
            if (Math.abs(change) < 5) {
                trendText = 'Stable';
                trendClass = 'metric-trend';
            } else if (change > 0) {
                trendText = 'Am√©lior√©';
                trendClass = 'metric-trend trend-up';
            } else {
                trendText = 'D√©grad√©';
                trendClass = 'metric-trend trend-down';
            }
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Mettre √† jour la tendance des erreurs
         */
        function updateErrorsTrend(current, previous) {
            const trendElement = document.getElementById('errorsTrend');
            if (!trendElement) return;
            
            if (previous === undefined) {
                trendElement.textContent = 'Syst√®me stable';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = current - previous;
            let trendText, trendClass;
            
            if (change === 0) {
                trendText = 'Syst√®me stable';
                trendClass = 'metric-trend';
            } else if (change > 0) {
                trendText = `${change} nouvelle(s)`;
                trendClass = 'metric-trend trend-down';
            } else {
                trendText = 'Erreurs r√©solues';
                trendClass = 'metric-trend trend-up';
            }
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Mettre √† jour la tendance FPS
         */
        function updateFPSTrend(current, previous) {
            const trendElement = document.getElementById('fpsTrend');
            if (!trendElement) return;
            
            if (previous === undefined) {
                trendElement.textContent = 'Optimis√©';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = current - previous;
            let trendText, trendClass;
            
            if (Math.abs(change) < 5) {
                if (current >= 80) {
                    trendText = 'Excellent';
                    trendClass = 'metric-trend trend-up';
                } else if (current >= 60) {
                    trendText = 'Bon';
                    trendClass = 'metric-trend';
                } else if (current >= 30) {
                    trendText = 'Moyen';
                    trendClass = 'metric-trend trend-down';
                } else {
                    trendText = 'Faible';
                    trendClass = 'metric-trend trend-down';
                }
            } else if (change > 0) {
                trendText = 'Am√©lior√©';
                trendClass = 'metric-trend trend-up';
            } else {
                trendText = 'D√©grad√©';
                trendClass = 'metric-trend trend-down';
            }
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Mettre √† jour la tendance des animations
         */
        function updateAnimationTrend(current, previous) {
            const trendElement = document.getElementById('animationTrend');
            if (!trendElement) return;
            
            if (previous === undefined) {
                trendElement.textContent = 'Fluide';
                trendElement.className = 'metric-trend';
                return;
            }
            
            const change = current - previous;
            let trendText, trendClass;
            
            if (Math.abs(change) < 0.1) {
                if (current >= 0.8) {
                    trendText = 'Fluide';
                    trendClass = 'metric-trend trend-up';
                } else if (current >= 0.6) {
                    trendText = 'Correct';
                    trendClass = 'metric-trend';
                } else if (current >= 0.4) {
                    trendText = 'R√©duit';
                    trendClass = 'metric-trend trend-down';
                } else {
                    trendText = 'Minimal';
                    trendClass = 'metric-trend trend-down';
                }
            } else if (change > 0) {
                trendText = 'Am√©lior√©';
                trendClass = 'metric-trend trend-up';
            } else {
                trendText = 'D√©grad√©';
                trendClass = 'metric-trend trend-down';
            }
            
            trendElement.textContent = trendText;
            trendElement.className = trendClass;
        }

        /**
         * Animer un compteur de mani√®re fluide
         */
        function animateCounter(element, startValue, endValue, duration) {
            const startTime = performance.now();
            const valueDiff = endValue - startValue;
            
            function updateCounter(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Fonction d'easing pour une animation plus naturelle
                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                const currentValue = startValue + (valueDiff * easeOutQuart);
                
                element.textContent = Math.round(currentValue);
                
                if (progress < 1) {
                    requestAnimationFrame(updateCounter);
                }
            }
            
            requestAnimationFrame(updateCounter);
        }

        /**
         * Optimisation automatique bas√©e sur les performances
         */
        function autoOptimizeBasedOnPerformance(stats) {
            try {
                // V√©rifier les performances et appliquer des optimisations automatiques
                const optimizations = [];
                
                // Optimisation bas√©e sur les FPS
                if (stats.fps < 30) {
                    optimizations.push('FPS faible d√©tect√© - R√©duction des animations');
                    reduceAnimations();
                } else if (stats.fps < 45) {
                    optimizations.push('FPS moyen - Optimisation des particules');
                    optimizeParticles();
                } else if (stats.fps >= 80) {
                    optimizations.push('FPS excellent - Activation des effets avanc√©s');
                    enableAdvancedEffects();
                }
                
                // Optimisation bas√©e sur la m√©moire
                if (stats.memory && stats.memory.percentage > 80) {
                    optimizations.push('M√©moire √©lev√©e - Nettoyage automatique');
                    cleanupMemory();
                }
                
                // Optimisation bas√©e sur les erreurs
                if (stats.errors > 5) {
                    optimizations.push('Erreurs d√©tect√©es - Mode diagnostic activ√©');
                    enableDiagnosticMode();
                }
                
                // Optimisation bas√©e sur le score de performance
                if (stats.performanceScore < 50) {
                    optimizations.push('Performance faible - Mode √©conomie activ√©');
                    enableEconomyMode();
                }
                
                // Afficher les optimisations appliqu√©es
                if (optimizations.length > 0) {
                    displayOptimizations(optimizations);
                }
                
                // Mettre √† jour le statut d'optimisation
                updateOptimizationStatus(stats);
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur optimisation automatique:', error);
            }
        }

        /**
         * R√©duire les animations pour am√©liorer les FPS
         */
        function reduceAnimations() {
            try {
                // R√©duire la complexit√© des particules
                if (window.createParticles) {
                    const originalCreateParticles = window.createParticles;
                    window.createParticles = function(x, y) {
                        // Cr√©er moins de particules
                        const particleCount = Math.min(20, Math.floor(window.innerWidth / 30));
                        return originalCreateParticles.call(this, x, y, particleCount);
                    };
                }
                
                // R√©duire les animations CSS
                document.documentElement.style.setProperty('--animation-duration', '0.3s');
                document.documentElement.style.setProperty('--particle-count', '30');
                
                // D√©sactiver les animations non essentielles
                const nonEssentialElements = document.querySelectorAll('.service-card, .portfolio-item, .testimonial-card');
                nonEssentialElements.forEach(element => {
                    element.style.animation = 'none';
                });
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur r√©duction animations:', error);
            }
        }

        /**
         * Optimiser les particules
         */
        function optimizeParticles() {
            try {
                // Optimiser la cr√©ation des particules
                if (window.createParticles) {
                    const originalCreateParticles = window.createParticles;
                    window.createParticles = function(x, y) {
                        // Cr√©er un nombre optimal de particules
                        const particleCount = Math.min(40, Math.floor(window.innerWidth / 20));
                        return originalCreateParticles.call(this, x, y, particleCount);
                    };
                }
                
                // Optimiser les animations CSS
                document.documentElement.style.setProperty('--animation-duration', '0.4s');
                document.documentElement.style.setProperty('--particle-count', '50');
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur optimisation particules:', error);
            }
        }

        /**
         * Activer les effets avanc√©s
         */
        function enableAdvancedEffects() {
            try {
                // Activer les animations avanc√©es
                document.documentElement.style.setProperty('--animation-duration', '0.6s');
                document.documentElement.style.setProperty('--particle-count', '80');
                
                // Activer les effets de parallaxe
                if (window.enableParallax) {
                    window.enableParallax();
                }
                
                // Activer les animations 3D
                const cards = document.querySelectorAll('.service-card, .portfolio-item');
                cards.forEach(card => {
                    card.style.transformStyle = 'preserve-3d';
                    card.style.transition = 'transform 0.3s ease';
                });
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur activation effets avanc√©s:', error);
            }
        }

        /**
         * Nettoyer la m√©moire
         */
        function cleanupMemory() {
            try {
                // Forcer le garbage collection si disponible
                if (window.gc) {
                    window.gc();
                }
                
                // Nettoyer les particules existantes
                const particles = document.querySelectorAll('.particle');
                particles.forEach(particle => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                });
                
                // R√©duire la taille des images
                const images = document.querySelectorAll('img');
                images.forEach(img => {
                    if (img.dataset.originalSrc) {
                        img.src = img.dataset.originalSrc;
                    }
                });
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur nettoyage m√©moire:', error);
            }
        }

        /**
         * Activer le mode diagnostic
         */
        function enableDiagnosticMode() {
            try {
                // Activer la surveillance d√©taill√©e
                if (window.performanceMonitor) {
                    window.performanceMonitor.setLogLevel('DEBUG');
                }
                
                // Afficher les informations de d√©bogage
                const debugInfo = document.createElement('div');
                debugInfo.id = 'debugInfo';
                debugInfo.className = 'debug-info';
                debugInfo.innerHTML = `
                    <h4>Mode Diagnostic</h4>
                    <p>Surveillance d√©taill√©e activ√©e</p>
                    <p>Erreurs: ${window.previousMetrics?.errors || 0}</p>
                `;
                
                const adminContainer = document.querySelector('.admin-container');
                if (adminContainer && !document.getElementById('debugInfo')) {
                    adminContainer.appendChild(debugInfo);
                }
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur mode diagnostic:', error);
            }
        }

        /**
         * Activer le mode √©conomie
         */
        function enableEconomyMode() {
            try {
                // R√©duire drastiquement les animations
                document.documentElement.style.setProperty('--animation-duration', '0.2s');
                document.documentElement.style.setProperty('--particle-count', '15');
                
                // D√©sactiver les effets non essentiels
                const effects = document.querySelectorAll('.particle, .floating-element');
                effects.forEach(effect => {
                    effect.style.display = 'none';
                });
                
                // Optimiser les images
                const images = document.querySelectorAll('img');
                images.forEach(img => {
                    img.loading = 'lazy';
                    img.decoding = 'async';
                });
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur mode √©conomie:', error);
            }
        }

        /**
         * Afficher les optimisations appliqu√©es
         */
        function displayOptimizations(optimizations) {
            try {
                const optimizationList = document.getElementById('optimizationList');
                if (!optimizationList) return;
                
                // Ajouter les nouvelles optimisations
                optimizations.forEach(optimization => {
                    const optimizationItem = document.createElement('div');
                    optimizationItem.className = 'optimization-item';
                    optimizationItem.innerHTML = `
                        <i class="fas fa-cog"></i>
                        <span>${optimization}</span>
                        <small>${new Date().toLocaleTimeString()}</small>
                    `;
                    
                    optimizationList.appendChild(optimizationItem);
                    
                    // Supprimer apr√®s 10 secondes
                    setTimeout(() => {
                        if (optimizationItem.parentNode) {
                            optimizationItem.parentNode.removeChild(optimizationItem);
                        }
                    }, 10000);
                });
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur affichage optimisations:', error);
            }
        }

        /**
         * Mettre √† jour le statut d'optimisation
         */
        function updateOptimizationStatus(stats) {
            try {
                const optimizationStatus = document.getElementById('optimizationStatus');
                if (!optimizationStatus) return;
                
                let status, statusClass, statusText;
                
                if (stats.fps >= 80 && stats.performanceScore >= 80) {
                    status = 'excellent';
                    statusClass = 'status-excellent';
                    statusText = 'Performance Excellente';
                } else if (stats.fps >= 60 && stats.performanceScore >= 60) {
                    status = 'good';
                    statusClass = 'status-good';
                    statusText = 'Performance Bonne';
                } else if (stats.fps >= 30 && stats.performanceScore >= 40) {
                    status = 'fair';
                    statusClass = 'status-fair';
                    statusText = 'Performance Moyenne';
                } else {
                    status = 'poor';
                    statusClass = 'status-poor';
                    statusText = 'Performance Faible';
                }
                
                optimizationStatus.className = `optimization-status ${statusClass}`;
                optimizationStatus.innerHTML = `
                    <i class="fas fa-${getStatusIcon(status)}"></i>
                    <span>${statusText}</span>
                `;
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur mise √† jour statut optimisation:', error);
            }
        }

        /**
         * Obtenir l'ic√¥ne du statut
         */
        function getStatusIcon(status) {
            const icons = {
                'excellent': 'star',
                'good': 'check-circle',
                'fair': 'exclamation-triangle',
                'poor': 'times-circle'
            };
            return icons[status] || 'info-circle';
        }

        /**
         * Obtenir des statistiques de d√©monstration
         */
        function getDemoStats() {
            const now = Date.now();
            const uptime = now - sessionStartTime;
            
            return {
                visitors: Math.floor(Math.random() * 50) + 10,
                pageViews: Math.floor(Math.random() * 200) + 50,
                uptime: formatUptime(uptime),
                memory: {
                    used: Math.floor(Math.random() * 100) + 20 + ' MB'
                },
                loadTime: Math.floor(Math.random() * 200) + 100,
                errors: Math.floor(Math.random() * 3)
            };
        }

        /**
         * Mettre √† jour le temps de session
         */
        function updateSessionTime() {
            const sessionElement = document.getElementById('sessionStatus');
            if (sessionElement) {
                const sessionTime = Date.now() - sessionStartTime;
                sessionElement.textContent = `Session active`;
            }
        }

        /**
         * Formater le temps
         */
        function formatUptime(milliseconds) {
            const seconds = Math.floor(milliseconds / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            
            return `${hours.toString().padStart(2, '0')}:${(minutes % 60).toString().padStart(2, '0')}:${(seconds % 60).toString().padStart(2, '0')}`;
        }

        
        /**
         * Mettre √† jour le statut d'optimisation des animations
         */
        function updateAnimationStatus() {
            if (!window.animationOptimizer) return;
            
            const status = window.animationOptimizer.getOptimizationStatus();
            const statusElement = document.getElementById('animationStatus');
            
            if (statusElement) {
                const qualityPercent = Math.round(status.animationQuality * 100);
                const fpsStatus = status.currentFPS >= status.targetFPS ? '‚úÖ' : '‚ö†Ô∏è';
                
                statusElement.innerHTML = `
                    <div class="status-item">
                        <span class="status-label">Niveau d'optimisation:</span>
                        <span class="status-value ${status.optimizationLevel}">${status.optimizationLevel.toUpperCase()}</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Qualit√© d'animation:</span>
                        <span class="status-value">${qualityPercent}%</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">FPS actuel:</span>
                        <span class="status-value ${fpsStatus}">${status.currentFPS} / ${status.targetFPS}</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Animations fluides:</span>
                        <span class="status-value">${status.smoothAnimations ? '‚úÖ Activ√©' : '‚ùå D√©sactiv√©'}</span>
                    </div>
                `;
            }
        }



        /**
         * Initialiser la liste des activit√©s
         */
        function initializeActivityList() {
            updateActivityList();
        }

        /**
         * Mettre √† jour la liste des activit√©s
         */
        function updateActivityList() {
            try {
                const activityList = document.getElementById('activityList');
                if (!activityList) return;
                
                // Obtenir les activit√©s r√©centes de tous les moniteurs
                let allActivities = [];
                
                // Activit√©s du moniteur de site
                if (window.siteMonitor && window.siteMonitor.data && window.siteMonitor.data.userActivity) {
                    const siteActivities = window.siteMonitor.data.userActivity.slice(-5).map(activity => ({
                        ...activity,
                        source: 'site'
                    }));
                    allActivities = allActivities.concat(siteActivities);
                }
                
                // Activit√©s du moniteur d'activit√©
                if (window.activityMonitor && window.activityMonitor.activities) {
                    const activityMonitorActivities = window.activityMonitor.activities.slice(-5).map(activity => ({
                        ...activity,
                        source: 'activity'
                    }));
                    allActivities = allActivities.concat(activityMonitorActivities);
                }
                
                // Activit√©s de performance
                if (window.performanceMonitor && window.performanceMonitor.metrics) {
                    const perfActivities = [{
                        type: 'performance',
                        target: 'SYSTEM',
                        timestamp: Date.now(),
                        source: 'performance',
                        details: `FPS: ${window.performanceMonitor.metrics.fps}, M√©moire: ${Math.round(window.performanceMonitor.metrics.memoryUsage)} MB`
                    }];
                    allActivities = allActivities.concat(perfActivities);
                }
                
                // Trier par timestamp et prendre les 10 plus r√©centes
                allActivities.sort((a, b) => b.timestamp - a.timestamp);
                allActivities = allActivities.slice(0, 10);
                
                // Si aucune activit√© r√©elle, utiliser des activit√©s de d√©monstration
                if (allActivities.length === 0) {
                    allActivities = getDemoActivities();
                }
                
                // Mettre √† jour l'affichage
                activityList.innerHTML = allActivities.map(activity => `
                    <div class="activity-item">
                        <div class="activity-icon ${getActivityIconClass(activity.type)}">
                            <i class="fas ${getActivityIcon(activity.type)}"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">${getActivityTitle(activity.type)}</div>
                            <div class="activity-details">${getActivityDetails(activity)}</div>
                            ${activity.source ? `<div class="activity-source">Source: ${getSourceName(activity.source)}</div>` : ''}
                        </div>
                        <div class="activity-time">${formatTime(activity.timestamp)}</div>
                    </div>
                `).join('');
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur mise √† jour activit√©s:', error);
                // Afficher des activit√©s de d√©monstration en cas d'erreur
                const activityList = document.getElementById('activityList');
                if (activityList) {
                    const demoActivities = getDemoActivities();
                    activityList.innerHTML = demoActivities.map(activity => `
                        <div class="activity-item">
                            <div class="activity-icon ${getActivityIconClass(activity.type)}">
                                <i class="fas ${getActivityIcon(activity.type)}"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">${getActivityTitle(activity.type)}</div>
                                <div class="activity-details">${getActivityDetails(activity)}</div>
                            </div>
                            <div class="activity-time">${formatTime(activity.timestamp)}</div>
                        </div>
                    `).join('');
                }
            }
        }

        /**
         * Obtenir le nom de la source d'activit√©
         */
        function getSourceName(source) {
            const sourceNames = {
                'site': 'Site Monitor',
                'activity': 'Activity Monitor',
                'performance': 'Performance Monitor'
            };
            return sourceNames[source] || source;
        }

        /**
         * Obtenir des activit√©s de d√©monstration
         */
        function getDemoActivities() {
            const now = Date.now();
            const activities = [
                { type: 'click', target: 'BUTTON', timestamp: now - 5000 },
                { type: 'form_submit', target: 'FORM', timestamp: now - 15000 },
                { type: 'navigation', type: 'popstate', timestamp: now - 30000 },
                { type: 'click', target: 'A', timestamp: now - 45000 }
            ];
            
            return activities;
        }

        /**
         * Obtenir la classe CSS de l'ic√¥ne d'activit√©
         */
        function getActivityIconClass(type) {
            const iconClasses = {
                'click': 'click',
                'form_submit': 'form',
                'navigation': 'navigation',
                'error': 'error'
            };
            return iconClasses[type] || 'click';
        }

        /**
         * Obtenir l'ic√¥ne de l'activit√©
         */
        function getActivityIcon(type) {
            const icons = {
                'click': 'fa-mouse-pointer',
                'form_submit': 'fa-paper-plane',
                'navigation': 'fa-route',
                'error': 'fa-exclamation-triangle'
            };
            return icons[type] || 'fa-circle';
        }

        /**
         * Obtenir le titre de l'activit√©
         */
        function getActivityTitle(type) {
            const titles = {
                'click': 'Clic Utilisateur',
                'form_submit': 'Soumission Formulaire',
                'navigation': 'Navigation',
                'error': 'Erreur D√©tect√©e'
            };
            return titles[type] || 'Activit√©';
        }

        /**
         * Obtenir les d√©tails de l'activit√©
         */
        function getActivityDetails(activity) {
            if (activity.type === 'click') {
                return `Clic sur ${activity.target}`;
            } else if (activity.type === 'form_submit') {
                return `Formulaire soumis`;
            } else if (activity.type === 'navigation') {
                return `Navigation vers ${activity.url || 'nouvelle page'}`;
            } else if (activity.type === 'error') {
                return `Erreur: ${activity.message || 'Erreur inconnue'}`;
            }
            return 'Activit√© d√©tect√©e';
        }

        /**
         * Formater le temps
         */
        function formatTime(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            
            if (diff < 60000) return '√Ä l\'instant';
            if (diff < 3600000) return `Il y a ${Math.floor(diff / 60000)}m`;
            if (diff < 86400000) return `Il y a ${Math.floor(diff / 3600000)}h`;
            return new Date(timestamp).toLocaleTimeString();
        }

        /**
         * Actualiser les donn√©es
         */
        function refreshData() {
            updateMetrics();
            updateActivityList();
            
            // Afficher une confirmation silencieuse
            const refreshBtn = event.target;
            const originalText = refreshBtn.innerHTML;
            refreshBtn.innerHTML = '<i class="fas fa-check"></i> Actualis√©';
            refreshBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
            
            setTimeout(() => {
                refreshBtn.innerHTML = originalText;
                refreshBtn.style.background = 'linear-gradient(135deg, #3b82f6, #8b5cf6)';
            }, 2000);
        }

        /**
         * Exporter les donn√©es
         */
        function exportData() {
            try {
                let data = {};
                
                if (window.siteMonitor) {
                    data = window.siteMonitor.exportAllData();
                } else if (window.adminUtils) {
                    data = window.adminUtils.exportAllData();
                } else {
                    data = {
                        demo: true,
                        timestamp: new Date().toISOString(),
                        message: 'Donn√©es de d√©monstration'
                    };
                }
                
                // Cr√©er et t√©l√©charger le fichier
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `admin-data-${Date.now()}.json`;
                a.click();
                URL.revokeObjectURL(url);
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur export donn√©es:', error);
            }
        }

        /**
         * Optimiser le syst√®me
         */
        function optimizeSystem() {
            const optimizeBtn = event.target;
            const originalText = optimizeBtn.innerHTML;
            
            optimizeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Optimisation...';
            optimizeBtn.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
            
            setTimeout(() => {
                optimizeBtn.innerHTML = '<i class="fas fa-check"></i> Optimis√©';
                optimizeBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
                setTimeout(() => {
                    optimizeBtn.innerHTML = originalText;
                    optimizeBtn.style.background = 'linear-gradient(135deg, #3b82f6, #8b5cf6)';
                }, 2000);
            }, 3000);
        }

        /**
         * Sauvegarder les donn√©es
         */
        function backupData() {
            const backupBtn = event.target;
            const originalText = backupBtn.innerHTML;
            
            backupBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sauvegarde...';
            backupBtn.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
            
            setTimeout(() => {
                backupBtn.innerHTML = '<i class="fas fa-check"></i> Sauvegard√©';
                backupBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
            
            setTimeout(() => {
                    backupBtn.innerHTML = originalText;
                    backupBtn.style.background = 'linear-gradient(135deg, #3b82f6, #8b5cf6)';
                }, 2000);
            }, 2000);
        }

        /**
         * Tester la connexion Discord
         */
        async function testDiscordConnection() {
            try {
                const testBtn = event.target;
                const originalText = testBtn.innerHTML;
                
                testBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Test...';
                testBtn.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
                
                // Simuler un test de connexion
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                testBtn.innerHTML = '<i class="fas fa-check"></i> Connect√©';
                testBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
                setTimeout(() => {
                    testBtn.innerHTML = originalText;
                    testBtn.style.background = '#5865f2';
                }, 2000);
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur test Discord:', error);
            }
        }

        /**
         * Envoyer un message de test
         */
        async function sendTestMessage() {
            try {
                const testBtn = event.target;
                const originalText = testBtn.innerHTML;
                
                testBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi...';
                testBtn.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
                
                // Simuler l'envoi d'un message
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                testBtn.innerHTML = '<i class="fas fa-check"></i> Envoy√©';
                testBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
            setTimeout(() => {
                    testBtn.innerHTML = originalText;
                    testBtn.style.background = '#5865f2';
                }, 2000);
                
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur envoi message test:', error);
            }
        }

        /**
         * Voir les logs Discord
         */
        function viewDiscordLogs() {
            // Ouvrir une nouvelle fen√™tre avec les logs
            const logsWindow = window.open('', '_blank');
            if (logsWindow) {
                logsWindow.document.write(`
                    <html>
                        <head>
                            <title>Logs Discord - Panel Admin</title>
                            <style>
                                body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
                                .log-entry { margin: 10px 0; padding: 10px; background: #2a2a2a; border-radius: 5px; }
                                .timestamp { color: #888; }
                                .message { color: #fff; }
                            </style>
                        </head>
                        <body>
                            <h1>üìã Logs Discord</h1>
                            <div class="log-entry">
                                <div class="timestamp">${new Date().toLocaleString()}</div>
                                <div class="message">‚úÖ Webhook Discord connect√© et fonctionnel</div>
                            </div>
                            <div class="log-entry">
                                <div class="timestamp">${new Date().toLocaleString()}</div>
                                <div class="message">üìä Donn√©es envoy√©es en temps r√©el</div>
                            </div>
                            <div class="log-entry">
                                <div class="timestamp">${new Date().toLocaleString()}</div>
                                <div class="message">üë• Activit√©s utilisateur trac√©es</div>
                            </div>
                        </body>
                    </html>
                `);
            }
        }

        /**
         * D√©connexion
         */
        function logout() {
            // Nettoyer la session
            sessionStorage.removeItem('admin_session');
            
            // Arr√™ter les mises √† jour
            if (updateInterval) {
                clearInterval(updateInterval);
            }
            
            // Rediriger vers la page de connexion
            window.location.href = 'admin-login.html';
        }

        /**
         * Afficher le code d'acc√®s admin
         */
        function displayAdminCode() {
            const codeDisplay = document.getElementById('adminCodeDisplay');
            if (codeDisplay && ADMIN_CONFIG && ADMIN_CONFIG.security) {
                codeDisplay.textContent = ADMIN_CONFIG.security.adminCode;
                console.log('üîê Code admin affich√©:', ADMIN_CONFIG.security.adminCode);
            }
        }

        /**
         * Afficher une page d'information sp√©cifique
         */
        function showInfoPage(pageId) {
            // Mettre √† jour la navigation active
            document.querySelectorAll('.page-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Afficher la page via le syst√®me d'info pages
            if (window.adminInfoPages) {
                window.adminInfoPages.showPage(pageId);
            } else {
                console.warn('‚ö†Ô∏è Syst√®me d\'info pages non disponible');
                // Fallback: afficher un message d'erreur
                document.getElementById('pageTitle').textContent = 'Page non disponible';
                document.getElementById('pageContent').innerHTML = '<p>Le syst√®me de pages d\'information n\'est pas encore initialis√©.</p>';
            }
        }

        /**
         * Initialiser les pages d'information
         */
        function initializeInfoPages() {
            if (window.adminInfoPages) {
                // Afficher la page des statistiques par d√©faut
                window.adminInfoPages.showPage('stats');
                console.log('‚úÖ Pages d\'information initialis√©es');
            } else {
                console.warn('‚ö†Ô∏è Syst√®me d\'info pages non disponible');
            }
        }

        // Nettoyage √† la fermeture
        window.addEventListener('beforeunload', () => {
            if (updateInterval) {
                clearInterval(updateInterval);
            }
        });
        
        /**
         * Fonctions de contr√¥le de l'optimisation des animations
         */
        function setTargetFPS(fps) {
            if (window.animationOptimizer) {
                window.animationOptimizer.setTargetFPS(fps);
                console.log(`üéØ FPS cible d√©fini √†: ${fps}`);
            } else {
                console.warn('‚ö†Ô∏è Animation Optimizer non disponible');
            }
        }
        
        function setAnimationQuality(quality) {
            if (window.animationOptimizer) {
                window.animationOptimizer.setAnimationQuality(quality);
                console.log(`üé® Qualit√© d'animation d√©finie √†: ${Math.round(quality * 100)}%`);
            } else {
                console.warn('‚ö†Ô∏è Animation Optimizer non disponible');
            }
        }
        
        function toggleSmoothAnimations() {
            if (window.animationOptimizer) {
                window.animationOptimizer.toggleSmoothAnimations();
            } else {
                console.warn('‚ö†Ô∏è Animation Optimizer non disponible');
            }
        }
        
        function restartOptimizer() {
            if (window.animationOptimizer) {
                window.animationOptimizer.restart();
                console.log('üîÑ Animation Optimizer red√©marr√©');
            } else {
                console.warn('‚ö†Ô∏è Animation Optimizer non disponible');
            }
        }
        
        // Exposer les fonctions globalement
        window.setTargetFPS = setTargetFPS;
        window.setAnimationQuality = setAnimationQuality;
        window.toggleSmoothAnimations = toggleSmoothAnimations;
        window.restartOptimizer = restartOptimizer;

        /**
         * Mettre √† jour les graphiques de performance
         */
        function updatePerformanceCharts(stats) {
            try {
                // Mettre √† jour les graphiques FPS si Chart.js est disponible
                if (window.Chart && window.performanceMonitor) {
                    updateFPSChart();
                    updateMemoryChart();
                    updatePerformanceScoreChart();
                }
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur mise √† jour graphiques:', error);
            }
        }

        /**
         * Mettre √† jour le graphique FPS
         */
        function updateFPSChart() {
            if (!window.performanceMonitor || !window.performanceMonitor.history) return;
            
            const fpsHistory = window.performanceMonitor.history.fps || [];
            if (fpsHistory.length === 0) return;
            
            const ctx = document.getElementById('fpsChart');
            if (!ctx) return;
            
            // D√©truire le graphique existant s'il y en a un
            if (window.fpsChart) {
                window.fpsChart.destroy();
            }
            
            const labels = fpsHistory.slice(-20).map((_, index) => `${index * 2}s`);
            const data = fpsHistory.slice(-20).map(item => item.value || 0);
            
            window.fpsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'FPS',
                        data: data,
                        borderColor: '#60a5fa',
                        backgroundColor: 'rgba(96, 165, 250, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 120,
                            grid: {
                                color: 'rgba(51, 65, 85, 0.3)'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(51, 65, 85, 0.3)'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        }
                    }
                }
            });
        }

        /**
         * Mettre √† jour le graphique m√©moire
         */
        function updateMemoryChart() {
            if (!window.performanceMonitor || !window.performanceMonitor.history) return;
            
            const memoryHistory = window.performanceMonitor.history.memoryUsage || [];
            if (memoryHistory.length === 0) return;
            
            const ctx = document.getElementById('memoryChart');
            if (!ctx) return;
            
            // D√©truire le graphique existant s'il y en a un
            if (window.memoryChart) {
                window.memoryChart.destroy();
            }
            
            const labels = memoryHistory.slice(-20).map((_, index) => `${index * 2}s`);
            const data = memoryHistory.slice(-20).map(item => item.value || 0);
            
            window.memoryChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'M√©moire (MB)',
                        data: data,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(51, 65, 85, 0.3)'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(51, 65, 85, 0.3)'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        }
                    }
                }
            });
        }

        /**
         * Mettre √† jour le graphique score de performance
         */
        function updatePerformanceScoreChart() {
            if (!window.performanceMonitor || !window.performanceMonitor.history) return;
            
            const ctx = document.getElementById('performanceChart');
            if (!ctx) return;
            
            // D√©truire le graphique existant s'il y en a un
            if (window.performanceChart) {
                window.performanceChart.destroy();
            }
            
            // Cr√©er des donn√©es de performance simul√©es bas√©es sur les m√©triques actuelles
            const currentFPS = window.performanceMonitor.metrics.fps || 60;
            const currentMemory = window.performanceMonitor.metrics.memoryUsage || 50;
            const currentLoadTime = window.performanceMonitor.metrics.loadTime || 1000;
            
            // Calculer un score de performance bas√© sur ces m√©triques
            const fpsScore = Math.min(100, (currentFPS / 60) * 100);
            const memoryScore = Math.max(0, 100 - (currentMemory / 200) * 100);
            const loadScore = Math.max(0, 100 - (currentLoadTime / 5000) * 100);
            
            const overallScore = Math.round((fpsScore + memoryScore + loadScore) / 3);
            
            window.performanceChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['FPS', 'M√©moire', 'Chargement', 'Score Global'],
                    datasets: [{
                        data: [fpsScore, memoryScore, loadScore, overallScore],
                        backgroundColor: [
                            '#60a5fa', // FPS - Bleu
                            '#10b981', // M√©moire - Vert
                            '#f59e0b', // Chargement - Orange
                            '#8b5cf6'  // Score Global - Violet
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#94a3b8',
                                padding: 20
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
